{
  "updatedAt": "2025-06-25T06:32:51.694Z",
  "createdAt": "2025-06-24T05:54:25.407Z",
  "id": "D42mFxVBdQwnWejw",
  "name": "åç‰‡",
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "line-webhook",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "f6ae4565-16d6-419a-a86a-c276189e14a7",
      "name": "LINE Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        -1560,
        470
      ],
      "webhookId": "[REMOVED]"
    },
    {
      "parameters": {
        "jsCode": "// æ”¹è‰¯ç‰ˆã€Œè™•ç†åˆ†æè³‡æ–™ã€ç¯€é» - ä¿®æ­£é›»è©±è™Ÿç¢¼è§£æ\n\n// ç²å– AI åˆ†æçš„å›å‚³è³‡æ–™\nlet aiResponse = $input.first().json.output || $input.first().json.response || $input.first().json.text || '';\n\n// ğŸ”§ é‡è¦ï¼šç²å–ä¸¦ä¿ç•™ binary è³‡æ–™\nlet inputBinary = $input.first().binary || {};\nconsole.log('è¼¸å…¥çš„ binary è³‡æ–™:', Object.keys(inputBinary));\n\nconsole.log('åŸå§‹ AI å›æ‡‰:', aiResponse);\n\ntry {\n  // åˆå§‹åŒ–çµæœç‰©ä»¶\n  let businessCardData = {\n    name: '',\n    company: '',\n    position: '',\n    phone: '', // å¸‚è©±\n    mobile: '', // æ‰‹æ©Ÿ\n    email: '',\n    address: '',\n    website: '',\n    tags: [],\n    created_date: new Date().toISOString().split('T')[0],\n    source: 'LINE Bot è‡ªå‹•åŒ–',\n    original_image_url: '',\n    notes: ''\n  };\n\n  // æ¸…ç† AI å›æ‡‰è³‡æ–™\n  let cleanResponse = aiResponse\n    .replace(/```json\\n?/g, '')\n    .replace(/```\\n?/g, '')\n    .replace(/^\\s*[\\{\\[]/g, '{')\n    .replace(/[\\}\\]]\\s*$/g, '}')\n    .trim();\n\n  console.log('æ¸…ç†å¾Œçš„å›æ‡‰:', cleanResponse);\n\n  // ğŸ”§ æ”¹é€²çš„è³‡æ–™æ¸…ç†å‡½æ•¸\n  function cleanFieldValue(value) {\n    if (!value) return '';\n    \n    return value\n      .replace(/^[^ï¼š:]*[ï¼š:]\\s*/, '') // ç§»é™¤é–‹é ­çš„æ¨™ç±¤ï¼ˆå¦‚\"å§“åï¼š\"ï¼‰\n      .replace(/^\\s*[:ï¼š]\\s*/, '') // ç§»é™¤é–‹é ­çš„å†’è™Ÿ\n      .replace(/^[ï¼Œ,]\\s*/, '') // ç§»é™¤é–‹é ­çš„é€—è™Ÿ\n      .replace(/[ï¼Œ,]\\s*$/, '') // ç§»é™¤çµå°¾çš„é€—è™Ÿ\n      .trim();\n  }\n\n  // ğŸ”§ æ”¹é€²çš„é›»è©±è™Ÿç¢¼è™•ç†å‡½æ•¸\n  function parsePhoneNumbers(text) {\n    let result = { mobile: '', phone: '' };\n    \n    // ğŸ”§ åˆ†åˆ¥è§£ææ‰‹æ©Ÿå’Œå¸‚è©±\n    \n    // 1. å…ˆæ‰¾æ‰‹æ©Ÿè™Ÿç¢¼ï¼ˆæ˜ç¢ºæ¨™ç¤ºç‚ºæ‰‹æ©Ÿçš„ï¼‰\n    let mobilePatterns = [\n      /æ‰‹æ©Ÿè™Ÿç¢¼[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/g,\n      /è¡Œå‹•é›»è©±[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/g,\n      /Mobile[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/gi\n    ];\n    \n    for (let pattern of mobilePatterns) {\n      let matches = [...text.matchAll(pattern)];\n      for (let match of matches) {\n        if (match[1]) {\n          let cleanMobile = match[1].trim().replace(/[\\s\\-]/g, '');\n          if (cleanMobile.startsWith('09') || cleanMobile.length === 10) {\n            result.mobile = cleanMobile;\n            console.log('æ‰¾åˆ°æ‰‹æ©Ÿè™Ÿç¢¼:', result.mobile);\n            break;\n          }\n        }\n      }\n      if (result.mobile) break;\n    }\n    \n    // 2. å†æ‰¾å¸‚è©±ï¼ˆæ˜ç¢ºæ¨™ç¤ºç‚ºé›»è©±çš„ï¼Œæˆ–æœ‰å€ç¢¼çš„ï¼‰\n    let phonePatterns = [\n      /(?:é›»è©±|Tel|Phone)(?!è™Ÿç¢¼)[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/gi, // é›»è©±ä½†ä¸æ˜¯é›»è©±è™Ÿç¢¼\n      /^é›»è©±[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/gm // è¡Œé¦–çš„é›»è©±\n    ];\n    \n    for (let pattern of phonePatterns) {\n      let matches = [...text.matchAll(pattern)];\n      for (let match of matches) {\n        if (match[1]) {\n          let phoneStr = match[1].trim();\n          // æª¢æŸ¥æ˜¯å¦ç‚ºå¸‚è©±æ ¼å¼ï¼ˆæœ‰å€ç¢¼æˆ–åŒ…å«#ï¼‰\n          if (phoneStr.includes('02-') || phoneStr.includes('03-') || \n              phoneStr.includes('04-') || phoneStr.includes('07-') || \n              phoneStr.includes('#') || phoneStr.match(/0[2-8][\\d\\-\\s]+/)) {\n            result.phone = phoneStr;\n            console.log('æ‰¾åˆ°å¸‚è©±:', result.phone);\n            break;\n          }\n        }\n      }\n      if (result.phone) break;\n    }\n    \n    // 3. å¦‚æœé‚„æ²’æ‰¾åˆ°ï¼Œç”¨é€šç”¨çš„é›»è©±è™Ÿç¢¼è§£æ\n    if (!result.mobile && !result.phone) {\n      let generalPhonePattern = /(?:é›»è©±è™Ÿç¢¼|è¯çµ¡é›»è©±)[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/g;\n      let matches = [...text.matchAll(generalPhonePattern)];\n      \n      for (let match of matches) {\n        if (match[1]) {\n          let phoneStr = match[1].trim();\n          \n          // åˆ¤æ–·æ˜¯æ‰‹æ©Ÿé‚„æ˜¯å¸‚è©±\n          if (phoneStr.startsWith('09') || (phoneStr.replace(/[\\s\\-]/g, '').length === 10 && phoneStr.startsWith('09'))) {\n            result.mobile = phoneStr.replace(/[\\s\\-]/g, '');\n            console.log('é€šç”¨è§£ææ‰¾åˆ°æ‰‹æ©Ÿ:', result.mobile);\n          } else if (phoneStr.includes('-') || phoneStr.includes('#') || phoneStr.match(/0[2-8]/)) {\n            result.phone = phoneStr;\n            console.log('é€šç”¨è§£ææ‰¾åˆ°å¸‚è©±:', result.phone);\n          }\n        }\n      }\n    }\n    \n    // 4. æœ€å¾Œå˜—è©¦ï¼šç›´æ¥å°‹æ‰¾å°ç£æ‰‹æ©Ÿè™Ÿç¢¼æ ¼å¼\n    if (!result.mobile) {\n      let mobileRegex = /09\\d{2}[\\-\\s]?\\d{3}[\\-\\s]?\\d{3}/g;\n      let mobileMatch = text.match(mobileRegex);\n      if (mobileMatch) {\n        result.mobile = mobileMatch[0].replace(/[\\s\\-]/g, '');\n        console.log('æ ¼å¼åŒ¹é…æ‰¾åˆ°æ‰‹æ©Ÿ:', result.mobile);\n      }\n    }\n    \n    console.log('é›»è©±è§£æçµæœ:', result);\n    return result;\n  }\n\n  // è§£æ JSON æˆ–æ–‡å­—\n  let parsedData = null;\n  if (cleanResponse.startsWith('{') && cleanResponse.endsWith('}')) {\n    try {\n      parsedData = JSON.parse(cleanResponse);\n      console.log('æˆåŠŸè§£æ JSON:', parsedData);\n    } catch (jsonError) {\n      console.log('JSON è§£æå¤±æ•—ï¼Œä½¿ç”¨æ–‡å­—è§£æ');\n    }\n  }\n\n  // è³‡æ–™æå–é‚è¼¯\n  if (parsedData) {\n    // JSON æ ¼å¼è§£æ\n    businessCardData.name = cleanFieldValue(parsedData.å§“å || parsedData.name || '');\n    businessCardData.company = cleanFieldValue(parsedData.å…¬å¸ || parsedData.company || '');\n    businessCardData.position = cleanFieldValue(parsedData.è·ä½ || parsedData.position || '');\n    businessCardData.email = cleanFieldValue(parsedData.é›»å­éƒµä»¶ || parsedData.email || parsedData.ä¿¡ç®± || '');\n    businessCardData.address = cleanFieldValue(parsedData.åœ°å€ || parsedData.address || '');\n    businessCardData.website = cleanFieldValue(parsedData.ç¶²ç«™ || parsedData.website || '');\n    \n    // è™•ç†é›»è©±è™Ÿç¢¼\n    let phoneData = parsedData.é›»è©±è™Ÿç¢¼ || parsedData.phone || parsedData.æ‰‹æ©Ÿè™Ÿç¢¼ || parsedData.mobile || '';\n    let phoneResult = parsePhoneNumbers(phoneData);\n    businessCardData.mobile = phoneResult.mobile;\n    businessCardData.phone = phoneResult.phone;\n    \n    // è™•ç†æ¨™ç±¤\n    let tags = parsedData.æ¨™ç±¤ || parsedData.tags || '';\n    if (typeof tags === 'string') {\n      businessCardData.tags = tags.split(',').map(tag => cleanFieldValue(tag)).filter(tag => tag);\n    } else if (Array.isArray(tags)) {\n      businessCardData.tags = tags.map(tag => cleanFieldValue(tag)).filter(tag => tag);\n    }\n  } else {\n    // ğŸ”§ æ–‡å­—è§£æé‚è¼¯ - å¤§å¹…æ”¹é€²\n    let tempText = cleanResponse;\n    console.log('é–‹å§‹æ–‡å­—è§£æ...');\n    \n    // å§“åè§£æ\n    let namePatterns = [\n      /å§“å[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/,\n      /^([^\\n\\rï¼Œ,]+?)(?:\\n|å…¬å¸|è·ä½|é›»è©±|$)/m\n    ];\n    \n    for (let pattern of namePatterns) {\n      let match = tempText.match(pattern);\n      if (match && match[1]) {\n        businessCardData.name = cleanFieldValue(match[1]);\n        console.log('æ‰¾åˆ°å§“å:', businessCardData.name);\n        break;\n      }\n    }\n    \n    // å…¬å¸è§£æ\n    let companyPatterns = [\n      /å…¬å¸[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/,\n      /(?:ä»»è·æ–¼|æœå‹™æ–¼|å·¥ä½œæ–¼)\\s*([^\\n\\rï¼Œ,]+)/\n    ];\n    \n    for (let pattern of companyPatterns) {\n      let match = tempText.match(pattern);\n      if (match && match[1]) {\n        businessCardData.company = cleanFieldValue(match[1]);\n        console.log('æ‰¾åˆ°å…¬å¸:', businessCardData.company);\n        break;\n      }\n    }\n    \n    // è·ä½è§£æ\n    let positionPatterns = [\n      /è·ä½[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/,\n      /(?:æ“”ä»»|è·ç¨±|è·å‹™)[ï¼š:]\\s*([^\\n\\rï¼Œ,]+)/\n    ];\n    \n    for (let pattern of positionPatterns) {\n      let match = tempText.match(pattern);\n      if (match && match[1]) {\n        businessCardData.position = cleanFieldValue(match[1]);\n        console.log('æ‰¾åˆ°è·ä½:', businessCardData.position);\n        break;\n      }\n    }\n    \n    // ğŸ”§ ä½¿ç”¨æ”¹é€²çš„é›»è©±è™Ÿç¢¼è§£æå‡½æ•¸\n    let phoneResult = parsePhoneNumbers(tempText);\n    businessCardData.mobile = phoneResult.mobile;\n    businessCardData.phone = phoneResult.phone;\n    \n    // Email è§£æ\n    let emailPatterns = [\n      /(?:é›»å­éƒµä»¶|ä¿¡ç®±|email|Email|E-mail)[ï¼š:]\\s*([^\\n\\r\\sï¼Œ,]+)/,\n      /([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,})/\n    ];\n    \n    for (let pattern of emailPatterns) {\n      let match = tempText.match(pattern);\n      if (match && match[1]) {\n        businessCardData.email = cleanFieldValue(match[1]);\n        console.log('æ‰¾åˆ°ä¿¡ç®±:', businessCardData.email);\n        break;\n      }\n    }\n    \n    // åœ°å€è§£æ\n    let addressPatterns = [\n      /åœ°å€[ï¼š:]\\s*([^\\n\\r]+)/,\n      /(?:ä½å€|é€šè¨Šåœ°å€|è¯çµ¡åœ°å€)[ï¼š:]\\s*([^\\n\\r]+)/\n    ];\n    \n    for (let pattern of addressPatterns) {\n      let match = tempText.match(pattern);\n      if (match && match[1]) {\n        businessCardData.address = cleanFieldValue(match[1]);\n        console.log('æ‰¾åˆ°åœ°å€:', businessCardData.address);\n        break;\n      }\n    }\n    \n    // ç¶²ç«™è§£æ\n    let websitePatterns = [\n      /ç¶²ç«™[ï¼š:]\\s*([^\\n\\r\\sï¼Œ,]+)/,\n      /(?:Website|URL|å®˜ç¶²)[ï¼š:]\\s*([^\\n\\r\\sï¼Œ,]+)/i,\n      /(https?:\\/\\/[^\\sï¼Œ\\n\\r]+)/,\n      /www\\.[^\\sï¼Œ\\n\\r]+/\n    ];\n    \n    for (let pattern of websitePatterns) {\n      let match = tempText.match(pattern);\n      if (match && match[1] && match[1].trim() !== 'ç„¡') {\n        businessCardData.website = cleanFieldValue(match[1]);\n        console.log('æ‰¾åˆ°ç¶²ç«™:', businessCardData.website);\n        break;\n      } else if (match && match[0] && match[0].startsWith('www')) {\n        businessCardData.website = match[0];\n        console.log('æ‰¾åˆ°ç¶²ç«™:', businessCardData.website);\n        break;\n      }\n    }\n    \n    // æ¨™ç±¤è§£æ\n    let tagsMatch = tempText.match(/æ¨™ç±¤[ï¼š:]\\s*([^\\n\\r]+)/);\n    if (tagsMatch && tagsMatch[1] && tagsMatch[1].trim() !== 'ç„¡') {\n      businessCardData.tags = tagsMatch[1].split(',')\n        .map(tag => cleanFieldValue(tag))\n        .filter(tag => tag);\n    }\n  }\n\n  // ğŸ”§ æœ€çµ‚è³‡æ–™æ¸…ç†å’Œæ ¼å¼åŒ–\n  \n  // æ¸…ç†é›»è©±è™Ÿç¢¼æ ¼å¼\n  if (businessCardData.phone) {\n    businessCardData.phone = businessCardData.phone\n      .replace(/[ï¼ˆï¼‰()]/g, '')\n      .trim();\n  }\n  \n  if (businessCardData.mobile) {\n    businessCardData.mobile = businessCardData.mobile\n      .replace(/[\\s\\-]/g, '')\n      .trim();\n    \n    // ç¢ºä¿æ‰‹æ©Ÿè™Ÿç¢¼æ ¼å¼æ­£ç¢º\n    if (businessCardData.mobile.length === 10 && businessCardData.mobile.startsWith('09')) {\n      // æ ¼å¼åŒ–ç‚º 0912-345-678\n      businessCardData.mobile = businessCardData.mobile.replace(/(\\d{4})(\\d{3})(\\d{3})/, '$1-$2-$3');\n    }\n  }\n  \n  // æ¸…ç† Email\n  if (businessCardData.email) {\n    businessCardData.email = businessCardData.email\n      .toLowerCase()\n      .replace(/[ï¼Œï¼›;]/g, '')\n      .trim();\n  }\n  \n  // æ¸…ç†ç¶²ç«™ URL\n  if (businessCardData.website && businessCardData.website !== 'ç„¡') {\n    if (!businessCardData.website.startsWith('http')) {\n      businessCardData.website = 'https://' + businessCardData.website;\n    }\n  } else {\n    businessCardData.website = '';\n  }\n\n  // è‡ªå‹•æ¨™ç±¤ç”Ÿæˆ\n  if (businessCardData.tags.length === 0) {\n    let autoTags = [];\n    if (businessCardData.position) {\n      let position = businessCardData.position.toLowerCase();\n      if (position.includes('ç¸½ç¶“ç†') || position.includes('ceo') || position.includes('åŸ·è¡Œé•·')) {\n        autoTags.push('é«˜éšä¸»ç®¡');\n      } else if (position.includes('æ¥­å‹™') || position.includes('éŠ·å”®')) {\n        autoTags.push('æ¥­å‹™');\n      } else if (position.includes('å·¥ç¨‹å¸«') || position.includes('æŠ€è¡“')) {\n        autoTags.push('æŠ€è¡“');\n      } else if (position.includes('ç¶“ç†') || position.includes('ä¸»ç®¡')) {\n        autoTags.push('ç®¡ç†è·');\n      }\n    }\n    businessCardData.tags = autoTags;\n  }\n\n  businessCardData.processing_status = 'æˆåŠŸ';\n  businessCardData.confidence_score = businessCardData.name && businessCardData.company ? 'é«˜' : 'ä¸­';\n\n  console.log('=== æœ€çµ‚è™•ç†çµæœ ===');\n  console.log('å§“å:', businessCardData.name);\n  console.log('å…¬å¸:', businessCardData.company);\n  console.log('è·ä½:', businessCardData.position);\n  console.log('æ‰‹æ©Ÿ:', businessCardData.mobile);\n  console.log('å¸‚è©±:', businessCardData.phone);\n  console.log('ä¿¡ç®±:', businessCardData.email);\n  console.log('åœ°å€:', businessCardData.address);\n  console.log('ç¶²ç«™:', businessCardData.website);\n\n  // ğŸ”§ é—œéµä¿®æ­£ï¼šç¢ºä¿ binary è³‡æ–™æ­£ç¢ºå‚³é\n  let outputBinary = {};\n  \n  if (inputBinary && Object.keys(inputBinary).length > 0) {\n    Object.assign(outputBinary, inputBinary);\n    console.log('âœ… Binary è³‡æ–™å·²è¤‡è£½:', Object.keys(outputBinary));\n    \n    let binaryKeys = Object.keys(outputBinary);\n    if (binaryKeys.length > 0 && !outputBinary.data) {\n      outputBinary.data = outputBinary[binaryKeys[0]];\n      console.log('âœ… Binary è³‡æ–™å·²è¨­å®šç‚º \"data\" æ¬„ä½');\n    }\n  } else {\n    console.error('âŒ æ²’æœ‰æ‰¾åˆ°è¼¸å…¥çš„ binary è³‡æ–™');\n  }\n\n  // ğŸ”§ æ”¹å–„å›å‚³è³‡æ–™çµæ§‹\n  return [{\n    json: {\n      // Notion è³‡æ–™åº«æ¬„ä½å°æ‡‰\n      'å§“å': businessCardData.name,\n      'å…¬å¸': businessCardData.company,\n      'è·ä½': businessCardData.position,\n      'è¡Œå‹•é›»è©±': businessCardData.mobile, // ğŸ”§ æ‰‹æ©Ÿ\n      'é›»è©±': businessCardData.phone,      // ğŸ”§ å¸‚è©±\n      'ä¿¡ç®±': businessCardData.email,\n      'åœ°å€': businessCardData.address,\n      'ç¶²ç«™': businessCardData.website,\n      'æ¨™ç±¤': businessCardData.tags,\n      'æ–°å¢æ—¥æœŸ': businessCardData.created_date,\n      'ä¾†æº': 'LINE Bot è‡ªå‹•åŒ–',\n      'å‚™è¨»': `è™•ç†ç‹€æ…‹: ${businessCardData.processing_status}, ä¿¡å¿ƒåº¦: ${businessCardData.confidence_score}`,\n      'åŸå§‹è³‡æ–™': cleanResponse.substring(0, 300),\n      \n      // é¡å¤–è³‡è¨Š\n      'suggested_filename': `${businessCardData.name}_${businessCardData.company}_${businessCardData.created_date}.jpg`,\n      'processing_timestamp': new Date().toISOString(),\n      'binary_data_available': Object.keys(outputBinary).length > 0\n    },\n    binary: outputBinary\n  }];\n\n} catch (error) {\n  console.error('è™•ç†éŒ¯èª¤:', error);\n  \n  return [{\n    json: {\n      'å§“å': 'è§£æå¤±æ•—',\n      'å…¬å¸': '',\n      'è·ä½': '',\n      'è¡Œå‹•é›»è©±': '',\n      'é›»è©±': '',\n      'ä¿¡ç®±': '',\n      'åœ°å€': '',\n      'ç¶²ç«™': '',\n      'æ¨™ç±¤': ['éŒ¯èª¤'],\n      'æ–°å¢æ—¥æœŸ': new Date().toISOString().split('T')[0],\n      'ä¾†æº': 'LINE Bot è‡ªå‹•åŒ–',\n      'å‚™è¨»': `éŒ¯èª¤: ${error.message}`,\n      'åŸå§‹è³‡æ–™': aiResponse.substring(0, 300),\n      'binary_data_available': Object.keys(inputBinary || {}).length > 0\n    },\n    binary: inputBinary || {}\n  }];\n}"
      },
      "id": "d10b864f-2a2c-46a3-b2a2-f14325b78478",
      "name": "è™•ç†åˆ†æè³‡æ–™",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -220,
        840
      ]
    },
    {
      "parameters": {
        "jsCode": "items[0].json.sessionId = $input.first().json.body.events[0].source.userId\nreturn items;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1042,
        720
      ],
      "id": "80b02acc-9c65-4c53-b4ba-aadc2f4bec80",
      "name": "Code"
    },
    {
      "parameters": {
        "model": "google/gemini-2.5-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -560,
        1080
      ],
      "id": "6a8687be-620e-494a-85f7-0a7222416816",
      "name": "OpenRouter Chat Model1",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "url": "=https://api-data.line.me/v2/bot/message/{{ $('LINE Webhook').item.json.body.events[0].message.id }}/content",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer pNCflz/R0BcJDi5uDi1fIEFLPE7lkUDF/KhTN7njAbCykxvjnU49+jKXQTKJR8BGAnh0hf4uIpRcpI29MltTQD4IS4nmg99CgeUh/SqEkPcVJ8Sn/3Na5zTUy269ntwkBRQzdGkC9PI2+ySSCZJvOgdB04t89/1O/w1cDnyilFU="
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -744,
        720
      ],
      "id": "a4e3dde9-be7f-4d38-af5b-9c660dc0e7c3",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI",
          "mode": "list",
          "cachedResultName": "é›»å­åç‰‡",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "åç‰‡ç¸½è¦½",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "å§“å": "={{ $('Merge').item.json['å§“å'] }}",
            "å…¬å¸": "={{ $('Merge').item.json['å…¬å¸'] }}",
            "è·ä½": "={{ $('Merge').item.json['è·ä½'] }}",
            "é›»è©±": "={{ $('Merge').item.json['é›»è©±'] }}",
            "ä¿¡ç®±": "={{ $('Merge').item.json['ä¿¡ç®±'] }}",
            "åœ°å€": "={{ $('Merge').item.json['åœ°å€'] }}",
            "ç¶²ç«™": "={{ $('Merge').item.json['ç¶²ç«™'] }}",
            "æ–°å¢æ—¥æœŸ": "={{ $('Merge').item.json['æ–°å¢æ—¥æœŸ'] }}",
            "å‚™è¨»": "={{ $('Merge').item.json['å‚™è¨»'] }}",
            "æª”æ¡ˆä¾†æº": "={{ $json.webViewLink }}",
            "æ‰‹æ©Ÿè™Ÿç¢¼": "={{ $('Merge').item.json['è¡Œå‹•é›»è©±'] }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "å§“å",
              "displayName": "å§“å",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "å…¬å¸",
              "displayName": "å…¬å¸",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "è·ä½",
              "displayName": "è·ä½",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æ‰‹æ©Ÿè™Ÿç¢¼",
              "displayName": "æ‰‹æ©Ÿè™Ÿç¢¼",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "é›»è©±",
              "displayName": "é›»è©±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ä¿¡ç®±",
              "displayName": "ä¿¡ç®±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "åœ°å€",
              "displayName": "åœ°å€",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ç¶²ç«™",
              "displayName": "ç¶²ç«™",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æ¨™ç±¤(å®¢æˆ¶ã€ä¾›æ‡‰å•†ã€åˆä½œå¤¥ä¼´)",
              "displayName": "æ¨™ç±¤(å®¢æˆ¶ã€ä¾›æ‡‰å•†ã€åˆä½œå¤¥ä¼´)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "æ–°å¢æ—¥æœŸ",
              "displayName": "æ–°å¢æ—¥æœŸ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "å‚™è¨»",
              "displayName": "å‚™è¨»",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æª”æ¡ˆä¾†æº",
              "displayName": "æª”æ¡ˆä¾†æº",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        732,
        720
      ],
      "id": "9cf768e1-3d3f-453f-baff-49ca2b806bb3",
      "name": "Google Sheets",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "databaseId": {
          "__rl": true,
          "value": "21c44454-4a54-806f-8025-d428f2c6f9a3",
          "mode": "list",
          "cachedResultName": "é›»å­åç‰‡",
          "cachedResultUrl": "https://www.notion.so/21c444544a54806f8025d428f2c6f9a3"
        },
        "propertiesUi": {
          "propertyValues": [
            {}
          ]
        },
        "options": {}
      },
      "id": "08cdeef3-01c1-4d75-bb24-e1c0dc8626fd",
      "name": "å„²å­˜åˆ° Notion1",
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2,
      "position": [
        -2100,
        680
      ],
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "databaseId": {
          "__rl": true,
          "value": "21c44454-4a54-806f-8025-d428f2c6f9a3",
          "mode": "list",
          "cachedResultName": "é›»å­åç‰‡",
          "cachedResultUrl": "https://www.notion.so/21c444544a54806f8025d428f2c6f9a3"
        },
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "ä¾†æºç¶²å€|url",
              "urlValue": "={{ $json.webViewLink }}"
            }
          ]
        },
        "options": {}
      },
      "id": "b1dc540e-9313-40d1-999f-92199492b5b1",
      "name": "å„²å­˜åˆ° Notion",
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2,
      "position": [
        -2100,
        420
      ],
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        300,
        720
      ],
      "id": "2e699f97-9ad3-4416-a6d9-61c5dd3e728e",
      "name": "Merge"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.events[0].message.text }}",
        "options": {
          "systemMessage": "You are a helpful assistant\nå¯ä»¥ä½¿ç”¨å„ç¨®MCP å·¥å…·\n\nå¯ä»¥ä½¿ç”¨ä»¥ä¸‹MCPå·¥å…·ï¼š\n- read_dataï¼šè®€å–æŸ¥è©¢è³‡æ–™ \n- updataï¼šæ›´æ–°è³‡æ–™ \n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        -1080,
        340
      ],
      "id": "8096dbfe-a537-43b6-aad8-9809d8c1c88d",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "sseEndpoint": "https://nickleo9.zeabur.app/mcp/8e54a6cb-eb3b-4613-8fd5-98c9171d12ec/sse",
        "include": "selected",
        "includeTools": [
          "read",
          "updata"
        ]
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1,
      "position": [
        -820,
        580
      ],
      "id": "36c969c4-3a90-4a64-af37-b4e236130bac",
      "name": "MCP Client"
    },
    {
      "parameters": {
        "path": "8e54a6cb-eb3b-4613-8fd5-98c9171d12ec"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 1.1,
      "position": [
        -2160,
        920
      ],
      "id": "64f2af43-be35-4ce8-84c2-6b107549d7d4",
      "name": "MCP Server Trigger",
      "webhookId": "[REMOVED]"
    },
    {
      "parameters": {
        "inputDataFieldName": "=data",
        "name": "={{ $json['å§“å'] }}{{ $json['å…¬å¸'] }}{{ $json['æ–°å¢æ—¥æœŸ'] }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "value": "1lYwQ2fQW0yjc9why7vLUoZtUlFd1ej3U",
          "mode": "list",
          "cachedResultName": "lineä¸Šå‚³ä¹‹æª”æ¡ˆ",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1lYwQ2fQW0yjc9why7vLUoZtUlFd1ej3U"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        512,
        720
      ],
      "id": "c8b2697e-8708-449f-a8f0-afba8084ac44",
      "name": "ä¸Šå‚³æª”æ¡ˆ",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "= å›æ‡‰é€™å€‹è¨Šæ¯ï¼š{{ $('LINE Webhook').item.json.body.events[0].message.quoteToken }}\n\né€™æ˜¯åœ–ç‰‡æª”\n\nä»¥ç¹é«”ä¸­æ–‡ï¼Œç´”æ–‡å­—è¼¸å‡ºï¼Œä¸è¦å¸¶ HTMLã€‚\n\né€™æ˜¯ä¸€å¼µåç‰‡ï¼Œå¹«æˆ‘æŠŠåç‰‡ä¸­çš„è³‡è¨Šæ“·å–å‡ºä¾†\n\nä¸¦ä»¥ä»¥ä¸‹æ ¼å¼åˆ—å‡ºä¾†\n\nå§“å å…¬å¸ è·ä½ é›»è©± æ‰‹æ©Ÿè™Ÿç¢¼  é›»å­éƒµä»¶ åœ°å€ ç¶²ç«™ æ¨™ç±¤ æ–°å¢æ—¥æœŸ ç¶²å€(ç¶²ç«™)\n\n\n\n\n\n",
        "hasOutputParser": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        -524,
        845
      ],
      "id": "ffa0b29a-deaa-41f9-90a0-8ccba899c029",
      "name": "AI AGENG"
    },
    {
      "parameters": {
        "operation": "remove",
        "documentId": {
          "__rl": true,
          "value": "172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI",
          "mode": "list",
          "cachedResultName": "é›»å­åç‰‡",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "åç‰‡ç¸½è¦½",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI/edit#gid=0"
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        -1720,
        1140
      ],
      "id": "0672684f-3dea-43d8-bad6-5c53c5b4d032",
      "name": "delete",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI",
          "mode": "list",
          "cachedResultName": "é›»å­åç‰‡",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "åç‰‡ç¸½è¦½",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        -2080,
        1140
      ],
      "id": "ca6616b8-c96a-4e2d-9855-12f5a0fec375",
      "name": "read",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/broadcast",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"messages\": [\n    {\n      \"type\": \"text\",\n      \"text\": \"{{ $json['å§“å'] }} çš„åç‰‡å·²ä¸Šå‚³å®Œç•¢ è«‹è¦‹ç¶²å€ï¼š{{ $('ä¸Šå‚³æª”æ¡ˆ').item.json.webViewLink }}\"\n    }\n  ]\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        960,
        720
      ],
      "id": "74131399-d068-4700-beda-504cf1b86a87",
      "name": "ç™¼é€å›æ‡‰çµ¦ LINE1",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/broadcast",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"messages\": [\n    {\n      \"type\": \"text\",\n      \"text\": \"{{ $json[\"output\"].toString().replace(/\\n/g, '\\\\n');}}\"\n    }\n  ]\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -660,
        360
      ],
      "id": "372f4b06-cbae-4175-9ebb-da4eb7904b62",
      "name": "ç™¼é€å›æ‡‰çµ¦ LINE",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "81723a87-ec92-4ebd-85a3-ae41c8a9adb1",
              "leftValue": "={{ $json.body.events[0].message.text }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1340,
        570
      ],
      "id": "a934b2a7-d835-4ce2-8419-7ec52cb0e667",
      "name": "æª¢æŸ¥æ˜¯å¦ç‚ºåœ–ç‰‡"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/chat/loading/start",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer pNCflz/R0BcJDi5uDi1fIEFLPE7lkUDF/KhTN7njAbCykxvjnU49+jKXQTKJR8BGAnh0hf4uIpRcpI29MltTQD4IS4nmg99CgeUh/SqEkPcVJ8Sn/3Na5zTUy269ntwkBRQzdGkC9PI2+ySSCZJvOgdB04t89/1O/w1cDnyilFU="
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "chatId",
              "value": "={{ $json.body.events[0].source.userId }}"
            },
            {
              "name": "loadingSeconds",
              "value": "40"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1340,
        370
      ],
      "id": "57c50f99-6204-4cc7-8ad5-3b6556ed8c44",
      "name": "loading/start"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "defult"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -980,
        580
      ],
      "id": "6ea48d0d-831d-4287-b5df-f9cfca93fb3b",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "model": "openai/gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -1120,
        540
      ],
      "id": "19ea15f5-cdd2-4bb2-b401-4673d5d02907",
      "name": "OpenRouter Chat Model",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI",
          "mode": "list",
          "cachedResultName": "é›»å­åç‰‡",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "åç‰‡ç¸½è¦½",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/172MErtRQfwVUibqiiCff5BFJBYd81yDrlvgUfjzbWKI/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "å§“å": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('____using_to_match_', ``, 'string') }}",
            "å…¬å¸": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('__', ``, 'string') }}",
            "è·ä½": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('__', ``, 'string') }}",
            "æ‰‹æ©Ÿè™Ÿç¢¼": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('____', ``, 'string') }}",
            "é›»è©±": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('__', ``, 'string') }}",
            "ä¿¡ç®±": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('__', ``, 'string') }}",
            "åœ°å€": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('__', ``, 'string') }}",
            "ç¶²ç«™": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('__', ``, 'string') }}",
            "æ¨™ç±¤(å®¢æˆ¶ã€ä¾›æ‡‰å•†ã€åˆä½œå¤¥ä¼´)": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('_______________', ``, 'string') }}",
            "æ–°å¢æ—¥æœŸ": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('____', ``, 'string') }}",
            "å‚™è¨»": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('__', ``, 'string') }}",
            "æª”æ¡ˆä¾†æº": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('____', ``, 'string') }}"
          },
          "matchingColumns": [
            "å§“å"
          ],
          "schema": [
            {
              "id": "å§“å",
              "displayName": "å§“å",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å…¬å¸",
              "displayName": "å…¬å¸",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "è·ä½",
              "displayName": "è·ä½",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æ‰‹æ©Ÿè™Ÿç¢¼",
              "displayName": "æ‰‹æ©Ÿè™Ÿç¢¼",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "é›»è©±",
              "displayName": "é›»è©±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ä¿¡ç®±",
              "displayName": "ä¿¡ç®±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "åœ°å€",
              "displayName": "åœ°å€",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ç¶²ç«™",
              "displayName": "ç¶²ç«™",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æ¨™ç±¤(å®¢æˆ¶ã€ä¾›æ‡‰å•†ã€åˆä½œå¤¥ä¼´)",
              "displayName": "æ¨™ç±¤(å®¢æˆ¶ã€ä¾›æ‡‰å•†ã€åˆä½œå¤¥ä¼´)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æ–°å¢æ—¥æœŸ",
              "displayName": "æ–°å¢æ—¥æœŸ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "å‚™è¨»",
              "displayName": "å‚™è¨»",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æª”æ¡ˆä¾†æº",
              "displayName": "æª”æ¡ˆä¾†æº",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        -1920,
        1160
      ],
      "id": "420cfe07-4c04-468a-b963-510f69d42dd5",
      "name": "updata",
      "credentials": "[REMOVED]"
    }
  ],
  "connections": {
    "LINE Webhook": {
      "main": [
        [
          {
            "node": "æª¢æŸ¥æ˜¯å¦ç‚ºåœ–ç‰‡",
            "type": "main",
            "index": 0
          },
          {
            "node": "loading/start",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è™•ç†åˆ†æè³‡æ–™": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI AGENG",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "AI AGENG",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "ä¸Šå‚³æª”æ¡ˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "main": [
        [
          {
            "node": "ç™¼é€å›æ‡‰çµ¦ LINE1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¸Šå‚³æª”æ¡ˆ": {
      "main": [
        [
          {
            "node": "Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI AGENG": {
      "main": [
        [
          {
            "node": "è™•ç†åˆ†æè³‡æ–™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "delete": {
      "ai_tool": [
        []
      ]
    },
    "read": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "ç™¼é€å›æ‡‰çµ¦ LINE",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æª¢æŸ¥æ˜¯å¦ç‚ºåœ–ç‰‡": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        []
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "updata": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "fc3666d7-33a4-42f4-8335-ece1aa21f2f1",
  "triggerCount": 2,
  "shared": [
    {
      "updatedAt": "2025-06-24T05:54:25.407Z",
      "createdAt": "2025-06-24T05:54:25.407Z",
      "role": "workflow:owner",
      "workflowId": "D42mFxVBdQwnWejw",
      "projectId": "4W71QCd0cKKsiKSS"
    }
  ],
  "tags": []
}