{
  "updatedAt": "2025-10-21T05:19:30.104Z",
  "createdAt": "2025-06-11T05:09:23.496Z",
  "id": "tNKcEceEu3TGkECi",
  "name": "ç§‘æŠ€æ–°èçˆ¬èŸ²",
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 8,
              "triggerAtMinute": 30
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -1392,
        -432
      ],
      "id": "dc3952db-4f87-4faf-9d3e-e2b12a1b6eaf",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "url": "https://cdn.technews.tw/category/ai/",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1168,
        -432
      ],
      "id": "c3da2017-6b76-4dc2-999c-95aced057ea6",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# n8n LINEæ ¼å¼TechNewsçˆ¬èŸ² - é¿å…JSONæ ¼å¼å•é¡Œ\ninput_item = _input.first()\nhtml = input_item.json.data\n\n# åˆå§‹åŒ–è¨Šæ¯å…§å®¹ï¼ˆä½¿ç”¨\\\\nè€Œä¸æ˜¯\\nï¼‰\nmessage_lines = []\nmessage_lines.append(\"ğŸ“° TechNews ç§‘æŠ€æ–°å ± - æœ€æ–°æ¶ˆæ¯\")\nmessage_lines.append(\"=\" * 50)\nmessage_lines.append(\"\")\n\nnews_count = 0\nnews_data = []\n\n# å°‹æ‰¾æ‰€æœ‰åŒ…å«entry-titleçš„éƒ¨åˆ†\nlines = html.split('\\n')\ncurrent_article = \"\"\ncollecting = False\n\nfor line in lines:\n    if '<article' in line:\n        collecting = True\n        current_article = line\n    elif collecting:\n        current_article += line\n        if '</article>' in line:\n            collecting = False\n            \n            # è™•ç†é€™å€‹article\n            if 'entry-title' in current_article and news_count < 10:\n                # æ‰¾URL\n                url = \"\"\n                href_pos = current_article.find('href=\"')\n                if href_pos > -1:\n                    url_start = href_pos + 6\n                    url_end = current_article.find('\"', url_start)\n                    url = current_article[url_start:url_end]\n                \n                # æ‰¾æ¨™é¡Œ\n                title = \"\"\n                entry_title_start = current_article.find('entry-title')\n                if entry_title_start > -1:\n                    temp_part = current_article[entry_title_start:]\n                    link_start = temp_part.find('>') + 1\n                    link_end = temp_part.find('</a>')\n                    \n                    if link_start > 0 and link_end > -1:\n                        title_part = temp_part[link_start:link_end]\n                        \n                        # æ¸…ç†HTMLæ¨™ç±¤\n                        title = title_part\n                        while '<' in title and '>' in title:\n                            start = title.find('<')\n                            end = title.find('>', start)\n                            if end > -1:\n                                title = title[:start] + title[end+1:]\n                            else:\n                                break\n                        \n                        title = title.strip()\n                \n                if url and title and len(title) > 10:\n                    news_count += 1\n                    \n                    # åŠ å…¥æ ¼å¼åŒ–çš„æ–°èåˆ°è¨Šæ¯ä¸­\n                    message_lines.append(f\"{news_count}. {title}\")\n                    message_lines.append(f\"ğŸ”— {url}\")\n                    message_lines.append(\"\")\n                    \n                    # åŒæ™‚ä¿å­˜çµæ§‹åŒ–æ•¸æ“š\n                    news_data.append({\n                        \"id\": news_count,\n                        \"title\": title,\n                        \"url\": url\n                    })\n            \n            current_article = \"\"\n\n# åŠ å…¥çµ±è¨ˆè³‡è¨Š\nmessage_lines.append(\"-\" * 50)\nmessage_lines.append(f\"ğŸ“Š å…±æ‰¾åˆ° {news_count} å‰‡æ–°è\")\n\n# ä½¿ç”¨\\\\nåˆä½µï¼Œé¿å…JSONæ ¼å¼å•é¡Œ\ncomplete_message = \"\\\\n\".join(message_lines)\n\n# è¿”å›é©åˆLINEçš„æ ¼å¼\nreturn [{\n    \"type\": \"text\",\n    \"text\": complete_message\n}]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -944,
        -336
      ],
      "id": "51cc1eb8-4471-44f9-ba14-b7581488c90f",
      "name": "Code"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/broadcast",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"messages\": [\n    {\n      \"type\": \"text\",\n      \"text\":\"{{ $json.text }}\"\n    }\n  ]\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -496,
        -960
      ],
      "id": "823899c5-eb35-49fc-8388-35ce3b4176df",
      "name": "ç™¼é€å›æ‡‰çµ¦ LINE",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=const newPrompt = `\né‡æ–°æ•´ç† {{ $json.text }}  (æ¯å¤©éƒ½ä¸€å®šæœƒæœ‰10å€‹æ–°è)\né‡é»æ‘˜è¦ï¼Œä¸¦ä»¥é€™ç¨®æ ¼å¼è¼¸å‡ºï¼š\n\nğŸ“° {{$today}} TechNews AI æ¯æ—¥æ–°èæ‘˜è¦\n==============================================\n\n1. æ–°èæ¨™é¡Œ\n   æ‘˜è¦å…§å®¹\n   å®Œæ•´æ–‡ç« ï¼šé€£çµURL\n\n2. æ–°èæ¨™é¡Œ  \n   æ‘˜è¦å…§å®¹\n   å®Œæ•´æ–‡ç« ï¼šé€£çµURL\n\né€é perplexity é è¨ˆæ¥ä¸‹ä¾†ä¸€å‘¨çš„AIç™¼å±•ï¼š\nåˆ†æå…§å®¹...\n\nä¸ç”¨å›æˆ‘å…¶ä»–èªåŠ©è©ï¼Œåªè¦å›æˆ‘é‡æ•´å¾Œçš„å…§å®¹\n\n\n",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        -608,
        -336
      ],
      "id": "c03bc806-c4c1-47cf-8ab9-a60a2ebb32a6",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -544,
        -112
      ],
      "id": "20c64305-b27b-4ab8-94df-fcfef59cd6bf",
      "name": "OpenAI Chat Model1",
      "credentials": "[REMOVED]"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://discord.com/api/webhooks/1403049282705166438/dal_cIJQlfCuX-laQL1_9PF3JchDiQslC8xQ5D5G_-_ieLaLlInPGFQnk9ASMsqW5aHz",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "content",
              "value": "=æ¯æ—¥çš„ç§‘æŠ€æ–°èå¦‚é€£çµï¼š\nhttps://script.google.com/macros/s/AKfycbyetrAVEIKdPYUkf91Nx8yKaNyaiNzIACblIuKlbdrySTQ0u4n_JCGuEoxI81t0Wvs0/exec"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -496,
        -1152
      ],
      "id": "d1a88e80-9ffa-4a9c-8e24-dedae8ce66e5",
      "name": "ç™¼é€å›æ‡‰çµ¦ Discord"
    },
    {
      "parameters": {
        "jsCode": "// åŠ å…¥AIé€±é æ¸¬çš„å®Œæ•´è§£æ±ºæ–¹æ¡ˆ\n// ä½œè€…ï¼šNick Changï½œnickleo051216@gmail.comï½œ0932-684-051\n// å€‹äººç¶²ç«™ï¼šZN Studioï½œhttps://portaly.cc/zn.studio\n// Threadsï¼š ZN Studio ( @nickai216 )ï½œhttps://www.threads.com/@nickai216\n\n// ========== æ­¥é©Ÿ1ï¼šä¿®æ”¹ n8n çš„ Code1 ç¯€é» ==========\n// å°‡ç¾æœ‰çš„ Code1 ç¯€é»ç¨‹å¼ç¢¼æ›¿æ›ç‚ºï¼š\n\nconst aiOutput = $input.first().json.output || '';\nconsole.log(\"AIè¼¸å‡º:\", aiOutput.substring(0, 200));\n\n// è§£ææ–°èæ¨™é¡Œå’ŒURL\nconst urls = aiOutput.match(/https:\\/\\/[^\\s\\n]+/g) || [];\nconst lines = aiOutput.split('\\n');\n\n// åˆ†é›¢æ–°èå…§å®¹å’ŒAIè¶¨å‹¢åˆ†æ\nconst aiTrendsKeyword = \"é è¨ˆæ¥ä¸‹ä¾†ä¸€å‘¨çš„AIç™¼å±•ï¼š\";\nconst aiTrendsIndex = aiOutput.indexOf(aiTrendsKeyword);\n\nlet newsContent = aiOutput;\nlet aiTrends = '';\n\nif (aiTrendsIndex !== -1) {\n  // åˆ†é›¢æ–°èå…§å®¹å’ŒAIè¶¨å‹¢åˆ†æ\n  newsContent = aiOutput.substring(0, aiTrendsIndex).trim();\n  aiTrends = aiOutput.substring(aiTrendsIndex + aiTrendsKeyword.length).trim();\n}\n\nconsole.log(\"AIè¶¨å‹¢åˆ†æå…§å®¹:\", aiTrends);\n\n// æ•´ç†æ–°èè³‡æ–™\nconst newsItems = [];\nlet currentNews = null;\n\nnewsContent.split('\\n').forEach(line => {\n  line = line.trim();\n  \n  if (line.match(/^\\d+\\./)) {\n    // é€™æ˜¯æ–°èæ¨™é¡Œ\n    currentNews = {\n      title: line,\n      summary: '',\n      url: ''\n    };\n  } else if (line.includes('https://')) {\n    // é€™æ˜¯é€£çµ\n    const urlMatch = line.match(/https:\\/\\/[^\\s]+/);\n    if (urlMatch && currentNews) {\n      currentNews.url = urlMatch[0];\n      newsItems.push(currentNews);\n      currentNews = null;\n    }\n  } else if (line.length > 10 && currentNews) {\n    // é€™æ˜¯æ‘˜è¦\n    currentNews.summary += line + ' ';\n  }\n});\n\n// ç‚ºGASæº–å‚™å®Œæ•´è³‡æ–™\nconst gasData = {\n  date: new Date().toLocaleDateString('zh-TW'),\n  title: `TechNews AI æ¯æ—¥æ–°èæ‘˜è¦`,\n  author: \"Nick Chang | ZN Studio\",\n  newsItems: newsItems,\n  aiTrends: aiTrends, // â­ æ–°å¢ï¼šAIè¶¨å‹¢åˆ†æ\n  totalCount: newsItems.length,\n  originalContent: aiOutput\n};\n\nconsole.log(\"æº–å‚™ç™¼é€çµ¦GASçš„è³‡æ–™:\", JSON.stringify(gasData, null, 2));\n\nreturn [gasData];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -256,
        -240
      ],
      "id": "bf586e1d-a9ee-491a-9fab-367835a137ab",
      "name": "Code1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://script.google.com/macros/s/AKfycbyetrAVEIKdPYUkf91Nx8yKaNyaiNzIACblIuKlbdrySTQ0u4n_JCGuEoxI81t0Wvs0/exec",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify($json) }}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -32,
        -336
      ],
      "id": "52acf8f4-bf74-4f5b-90da-721ecc39402a",
      "name": "æ¨æ’­åˆ°GAS",
      "retryOnFail": true
    },
    {
      "parameters": {
        "operation": "deleteRows",
        "dataTableId": {
          "__rl": true,
          "value": "xkEI5DdQ4D7BUzcq",
          "mode": "list",
          "cachedResultName": "news",
          "cachedResultUrl": "/projects/4W71QCd0cKKsiKSS/datatables/xkEI5DdQ4D7BUzcq"
        },
        "filters": {
          "conditions": [
            {
              "keyName": "date",
              "condition": "neq",
              "keyValue": "={{ new Date().toLocaleDateString('zh-TW') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        -944,
        -528
      ],
      "id": "d5b42992-ea58-4fc4-a948-39463b1a31bb",
      "name": "Delete row(s)"
    },
    {
      "parameters": {
        "jsCode": "// å–å¾—ä¸Šæ¸¸ï¼ˆDelete row(s)ï¼‰å‚³å…¥çš„å–®ä¸€ Item çš„ JSON å…§å®¹\nconst inputItem = $input.first().json;\n\n// ä¿®æ­£ï¼šç›´æ¥å¾é€™å€‹ Item è£¡é¢çš„ newsItems é™£åˆ—å–å€¼\nconst newsItems = inputItem.newsItems || [];\n\n// ä¿®æ­£ï¼šç›´æ¥å¾é€™å€‹ Item è£¡é¢çš„ date æ¬„ä½å–å€¼\nconst date = inputItem.date;\n\nconsole.log('è™•ç†æ–°èæ•¸é‡:', newsItems.length);\n\n// è¿”å›æ¯å‰‡æ–°èï¼Œä¸¦åŠ ä¸Šæ—¥æœŸ\nreturn newsItems.map((item, index) => ({\n    json: {\n        date: date,\n        news_index: index,\n        news_title: item.title,\n        news_summary: item.summary,\n        news_url: item.url,\n        click_count: 0,\n        last_updated: new Date().toLocaleString('zh-TW')\n    }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -32,
        -144
      ],
      "id": "47673b21-0d93-46be-af0a-238f57a10ce7",
      "name": "æŠŠ newsItems é™£åˆ—æ‹†é–‹"
    },
    {
      "parameters": {
        "dataTableId": {
          "__rl": true,
          "value": "xkEI5DdQ4D7BUzcq",
          "mode": "list",
          "cachedResultName": "news",
          "cachedResultUrl": "/projects/4W71QCd0cKKsiKSS/datatables/xkEI5DdQ4D7BUzcq"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "news_index": "={{ $json.news_index }}",
            "date": "={{ $json.date }}",
            "news_title": "={{ $json.news_title }}",
            "click_count": "={{ $json.click_count }}",
            "last_updated": "={{ $json.last_updated }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "date",
              "displayName": "date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "news_index",
              "displayName": "news_index",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "news_title",
              "displayName": "news_title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "click_count",
              "displayName": "click_count",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "last_updated",
              "displayName": "last_updated",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        432,
        -112
      ],
      "id": "5fcaa57f-a4d0-4a5a-ac21-2adaa3cf2b9f",
      "name": "Insert row1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        192,
        -144
      ],
      "id": "23e89cc2-2d8c-44ef-955d-23c6fd8b0e32",
      "name": "Loop Over Items"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "name": "Replace Me1",
      "typeVersion": 1,
      "position": [
        640,
        -112
      ],
      "id": "ae365a87-8f2f-4949-b9a5-71c63e98891b"
    },
    {
      "parameters": {
        "jsCode": "// è§£æè«‹æ±‚è³‡æ–™\nconst newsIndex = $input.item.json.body.newsIndex;\nconst today = new Date().toLocaleDateString('zh-TW');\n\nconsole.log('æ”¶åˆ°é»æ“Šè¿½è¹¤:', {\n  newsIndex: newsIndex,\n  date: today\n});\n\nreturn {\n  json: {\n    date: today,\n    newsIndex: newsIndex\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1056,
        96
      ],
      "name": "è§£æè³‡æ–™",
      "id": "3bd8e007-6eb2-4d33-9af7-b333d6ed8957"
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "xkEI5DdQ4D7BUzcq",
          "mode": "list",
          "cachedResultName": "news",
          "cachedResultUrl": "/projects/4W71QCd0cKKsiKSS/datatables/xkEI5DdQ4D7BUzcq"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "news_index",
              "keyValue": "={{ $json.newsIndex }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        -832,
        96
      ],
      "name": "æŸ¥è©¢ç›®å‰é»æ“Šæ•¸",
      "id": "bb55d343-b408-42b1-839f-7781c37fedf1"
    },
    {
      "parameters": {
        "jsCode": "// è¨ˆç®—æ–°çš„é»æ“Šæ•¸\nconst currentCount = $input.first().json.click_count || 0;\nconst newCount = currentCount + 1;\n\nreturn {\n  json: {\n    date: $input.first().json.date,\n    newsIndex: $input.first().json.news_index,\n    newClickCount: newCount\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -608,
        96
      ],
      "name": "è¨ˆç®—æ–°é»æ“Šæ•¸",
      "id": "152445fd-942e-4c9c-9d27-47f907072ea4"
    },
    {
      "parameters": {
        "operation": "update",
        "dataTableId": {
          "__rl": true,
          "value": "xkEI5DdQ4D7BUzcq",
          "mode": "list",
          "cachedResultName": "news",
          "cachedResultUrl": "/projects/4W71QCd0cKKsiKSS/datatables/xkEI5DdQ4D7BUzcq"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "date",
              "keyValue": "={{ $json.date }}"
            },
            {
              "keyName": "news_index",
              "keyValue": "={{ $json.newsIndex }}"
            },
            {
              "keyValue": "={{ $('æŸ¥è©¢ç›®å‰é»æ“Šæ•¸').item.json.id }}"
            }
          ]
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "click_count": "={{ $json.newClickCount }}",
            "last_updated": "={{ new Date().toLocaleString('zh-TW') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "date",
              "displayName": "date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "news_index",
              "displayName": "news_index",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "news_title",
              "displayName": "news_title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "click_count",
              "displayName": "click_count",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "last_updated",
              "displayName": "last_updated",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        -384,
        96
      ],
      "name": "æ›´æ–°é»æ“Šæ•¸",
      "id": "bf2e3227-8f0f-49f1-ad48-acdd1a18bbba",
      "executeOnce": true
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ {\n  success: true,\n  clickCount: $json.click_count,\n  newsTitle: $json.news_title,\n  newsIndex: $json.newsIndex,\n  message: 'é»æ“Šå·²è¨˜éŒ„',\n  timestamp: $json.last_updated\n} }}",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        -160,
        96
      ],
      "name": "å›å‚³çµæœ",
      "id": "dcc3571e-7294-4a4b-bb2f-99151335c237"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "track-click",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -1280,
        96
      ],
      "webhookId": "[REMOVED]",
      "name": "æ¥æ”¶é»æ“Š Webhook",
      "id": "072a038d-118b-48ac-be40-898d2e3cef8b"
    },
    {
      "parameters": {
        "path": "get-stats",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -1280,
        320
      ],
      "webhookId": "[REMOVED]",
      "name": "æ¥æ”¶çµ±è¨ˆè«‹æ±‚ Webhook",
      "id": "f4982fd3-4841-47c8-a7bb-cd03e8cc70e4"
    },
    {
      "parameters": {
        "jsCode": "// å–å¾—ä»Šå¤©çš„æ—¥æœŸ\nconst today = new Date().toLocaleDateString('zh-TW');\n\nconsole.log('æŸ¥è©¢æ—¥æœŸ:', today);\n\nreturn {\n  json: {\n    date: today\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1056,
        320
      ],
      "name": "æº–å‚™æŸ¥è©¢",
      "id": "6f038b3a-4f8b-4aee-b77a-450fd4b2278f"
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "xkEI5DdQ4D7BUzcq",
          "mode": "list",
          "cachedResultName": "news",
          "cachedResultUrl": "/projects/4W71QCd0cKKsiKSS/datatables/xkEI5DdQ4D7BUzcq"
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        -832,
        320
      ],
      "name": "æŸ¥è©¢ä»Šå¤©æ‰€æœ‰æ–°è",
      "id": "a8f5c1f3-80b4-4cc9-8b08-eddf9c5143d8"
    },
    {
      "parameters": {
        "jsCode": "// æ ¼å¼åŒ–çµ±è¨ˆè³‡æ–™\nconst stats = $input.all().map(item => ({\n  newsIndex: item.json.news_index,\n  newsTitle: item.json.news_title,\n  clickCount: item.json.click_count || 0,\n  lastUpdated: item.json.last_updated\n}));\n\nconsole.log('çµ±è¨ˆè³‡æ–™:', stats);\n\nreturn [{\n  json: {\n    success: true,\n    date: $input.first().json.date,\n    totalNews: stats.length,\n    stats: stats\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -608,
        320
      ],
      "name": "æ ¼å¼åŒ–çµ±è¨ˆè³‡æ–™",
      "id": "8a933b63-6aa6-4687-8abf-42d59e3933e1"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        -384,
        320
      ],
      "name": "å›å‚³çµ±è¨ˆ",
      "id": "b05963f7-f0d1-4dfd-b919-acc2610135d3"
    },
    {
      "parameters": {
        "content": "## é€™æ˜¯æˆ‘çš„ç¤¾ç¾¤ï¼š\n## [ZN AI æ¨‚åœ’](https://line.me/ti/g2/m9R6Fd9CF2SiMIA2wheULFoBZUtsoFV7ckW8MA?utm_source=invitation&utm_medium=link_copy&utm_campaign=default/)\næ­¡è¿é»æ“Š ZN AI æ¨‚åœ’\n\nä¸€èµ·åŠ å…¥åˆ†äº«è¨è«– n8n AI \n\nNick Changï½œnickleo051216@gmail.comï½œ\n\n0932-684-051\n\nå€‹äººç¶²ç«™ï¼š[ZN Studio](https://portaly.cc/zn.studio)\n\nThreadsï¼š ZN Studio\n[@nickai216](https://www.threads.com/@nickai216)\n\nLine ï¼š [å®¢æœ](https://lin.ee/Faz0doj)",
        "height": 768,
        "width": 416,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2048,
        -480
      ],
      "typeVersion": 1,
      "id": "8088719b-d85a-4784-a677-8f096d28af2b",
      "name": "Sticky Note2"
    }
  ],
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          },
          {
            "node": "Delete row(s)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "ç™¼é€å›æ‡‰çµ¦ Discord",
            "type": "main",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          },
          {
            "node": "ç™¼é€å›æ‡‰çµ¦ LINE",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code1": {
      "main": [
        [
          {
            "node": "æ¨æ’­åˆ°GAS",
            "type": "main",
            "index": 0
          },
          {
            "node": "æŠŠ newsItems é™£åˆ—æ‹†é–‹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete row(s)": {
      "main": [
        []
      ]
    },
    "æŠŠ newsItems é™£åˆ—æ‹†é–‹": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Insert row1": {
      "main": [
        [
          {
            "node": "Replace Me1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Insert row1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Replace Me1": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§£æè³‡æ–™": {
      "main": [
        [
          {
            "node": "æŸ¥è©¢ç›®å‰é»æ“Šæ•¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŸ¥è©¢ç›®å‰é»æ“Šæ•¸": {
      "main": [
        [
          {
            "node": "è¨ˆç®—æ–°é»æ“Šæ•¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¨ˆç®—æ–°é»æ“Šæ•¸": {
      "main": [
        [
          {
            "node": "æ›´æ–°é»æ“Šæ•¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ›´æ–°é»æ“Šæ•¸": {
      "main": [
        [
          {
            "node": "å›å‚³çµæœ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¥æ”¶é»æ“Š Webhook": {
      "main": [
        [
          {
            "node": "è§£æè³‡æ–™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¥æ”¶çµ±è¨ˆè«‹æ±‚ Webhook": {
      "main": [
        [
          {
            "node": "æº–å‚™æŸ¥è©¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æº–å‚™æŸ¥è©¢": {
      "main": [
        [
          {
            "node": "æŸ¥è©¢ä»Šå¤©æ‰€æœ‰æ–°è",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŸ¥è©¢ä»Šå¤©æ‰€æœ‰æ–°è": {
      "main": [
        [
          {
            "node": "æ ¼å¼åŒ–çµ±è¨ˆè³‡æ–™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ ¼å¼åŒ–çµ±è¨ˆè³‡æ–™": {
      "main": [
        [
          {
            "node": "å›å‚³çµ±è¨ˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": {
    "node:Schedule Trigger": {
      "recurrenceRules": []
    }
  },
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "6001f95d-ef69-4b2b-931d-9c0d6426fd05",
  "triggerCount": 3,
  "shared": [
    {
      "updatedAt": "2025-06-11T05:09:23.496Z",
      "createdAt": "2025-06-11T05:09:23.496Z",
      "role": "workflow:owner",
      "workflowId": "tNKcEceEu3TGkECi",
      "projectId": "4W71QCd0cKKsiKSS"
    }
  ],
  "tags": []
}